(this["webpackJsonpmyLibrary"]=this["webpackJsonpmyLibrary"]||[]).push([["chunk-16dbd697"],{"1e4b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-wrapper"},[t._m(0),a("header",{staticClass:"premium-header"},[t._m(1),a("div",{staticClass:"header-actions"},[a("el-tooltip",{attrs:{content:"刷新数据",placement:"bottom",effect:"light"}},[a("el-button",{staticClass:"action-btn refresh-btn",attrs:{type:"primary",plain:"",size:"small",loading:t.isLoading},on:{click:t.refreshData}},[a("i",{staticClass:"el-icon-refresh"}),a("span",[t._v("刷新数据")])])],1),a("el-tooltip",{attrs:{content:"处理历史数据",placement:"bottom",effect:"light"}},[a("el-button",{staticClass:"action-btn process-btn",attrs:{type:"warning",plain:"",size:"small",loading:t.processingHistory},on:{click:t.processHistoryData}},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[t._v("处理历史")])])],1)],1)]),a("main",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.isFullscreenLoading,expression:"isFullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"dashboard-content"},[a("div",{staticClass:"stats-overview"},t._l(t.statsData,(function(e,i){return a("div",{key:i,staticClass:"stat-card",class:"stat-card-"+(i+1),on:{mouseenter:function(e){return t.onStatHover(i)},mouseleave:function(e){return t.onStatLeave(i)}}},[a("div",{staticClass:"stat-icon-wrapper"},[a("i",{class:e.icon})]),a("div",{staticClass:"stat-info"},[a("div",{staticClass:"stat-value"},[a("count-to",{ref:"countTo",refInFor:!0,attrs:{"start-val":0,"end-val":e.value,duration:2e3,decimals:0,separator:","}})],1),a("div",{staticClass:"stat-label"},[t._v(t._s(e.label))]),void 0!==e.trend?a("div",{staticClass:"stat-trend"},[a("i",{class:e.trend>0?"el-icon-top":e.trend<0?"el-icon-bottom":"el-icon-minus"}),a("span",{class:e.trend>0?"trend-up":e.trend<0?"trend-down":"trend-neutral"},[t._v(" "+t._s(Math.abs(e.trend))+"% ")])]):t._e()]),a("div",{staticClass:"stat-chart"},[a("div",{staticClass:"sparkline",attrs:{id:"sparkline-"+i}})])])})),0),a("div",{staticClass:"dashboard-grid"},[a("div",{staticClass:"dashboard-column left-column"},[a("div",{staticClass:"dashboard-panel question-types-panel"},[a("div",{staticClass:"panel-header"},[t._m(2),a("div",{staticClass:"panel-actions"},[a("el-tooltip",{attrs:{content:"查看详情",placement:"top"}},[a("i",{staticClass:"el-icon-full-screen action-icon"})])],1)]),a("div",{staticClass:"panel-body"},[a("div",{ref:"questionTypeChart",staticClass:"chart-container"})])]),a("div",{staticClass:"dashboard-panel complexity-panel"},[a("div",{staticClass:"panel-header"},[t._m(3),a("div",{staticClass:"panel-actions"},[a("el-tooltip",{attrs:{content:"查看详情",placement:"top"}},[a("i",{staticClass:"el-icon-full-screen action-icon"})])],1)]),a("div",{staticClass:"panel-body"},[a("div",{ref:"complexityChart",staticClass:"chart-container"})])])]),a("div",{staticClass:"dashboard-column center-column"},[a("div",{staticClass:"dashboard-panel trend-panel"},[t._m(4),a("div",{staticClass:"panel-body"},[a("div",{ref:"dailyTrendChart",staticClass:"chart-container"})])]),a("div",{staticClass:"dashboard-panel subjects-panel"},[a("div",{staticClass:"panel-header"},[t._m(5),a("div",{staticClass:"panel-actions"},[a("el-tooltip",{attrs:{content:"查看详情",placement:"top"}},[a("i",{staticClass:"el-icon-full-screen action-icon"})])],1)]),a("div",{staticClass:"panel-body"},[a("div",{ref:"subjectChart",staticClass:"chart-container"})])])]),a("div",{staticClass:"dashboard-column right-column"},[a("div",{staticClass:"dashboard-panel students-panel"},[a("div",{staticClass:"panel-header"},[t._m(6),a("div",{staticClass:"panel-actions"},[a("el-tooltip",{attrs:{content:"查看全部",placement:"top"}},[a("i",{staticClass:"el-icon-more action-icon"})])],1)]),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"student-list"},[t._l(t.activeStudents,(function(e,i){return a("div",{key:e.userName,staticClass:"student-item",class:{"top-student":0===i},on:{click:function(a){return t.showStudentProfile(e.userName)}}},[a("div",{staticClass:"student-avatar",style:{background:t.getAvatarGradient(i)}},[t._v(" "+t._s(e.userName.charAt(0))+" ")]),a("div",{staticClass:"student-info"},[a("div",{staticClass:"student-name"},[t._v(t._s(e.userName))]),a("div",{staticClass:"student-subject"},[t._v(t._s(e.mainSubject))])]),a("div",{staticClass:"student-stats"},[a("div",{staticClass:"student-questions"},[a("i",{staticClass:"el-icon-chat-dot-round"}),a("span",[t._v(t._s(e.totalQuestions))])]),a("div",{staticClass:"student-score"},[a("el-progress",{attrs:{percentage:e.learningScore,color:t.getLearningScoreColor(e.learningScore),"stroke-width":4,"show-text":!1}}),a("span",[t._v(t._s(e.learningScore)+"分")])],1)])])})),0===t.activeStudents.length?a("div",{staticClass:"no-data"},[a("i",{staticClass:"el-icon-user"}),a("span",[t._v("暂无活跃学生数据")])]):t._e()],2)])]),a("div",{staticClass:"dashboard-panel keywords-panel"},[a("div",{staticClass:"panel-header"},[t._m(7),a("div",{staticClass:"panel-actions"},[a("el-tooltip",{attrs:{content:"查看全部",placement:"top"}},[a("i",{staticClass:"el-icon-more action-icon"})])],1)]),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"keywords-cloud"},[t._l(t.hotKeywords,(function(e,i){return a("div",{key:e.keyword,staticClass:"keyword-item",style:{fontSize:t.getTagSize(e.frequency)+"px",opacity:.7+e.frequency/100*.3,animationDelay:.1*i+"s",background:t.getKeywordBackground(i,e.frequency)},on:{mouseenter:t.onKeywordHover,mouseleave:t.onKeywordLeave}},[t._v(" "+t._s(e.keyword)+" "),a("span",{staticClass:"keyword-count"},[t._v(t._s(e.frequency))])])})),0===t.hotKeywords.length?a("div",{staticClass:"no-data"},[a("i",{staticClass:"el-icon-collection-tag"}),a("span",[t._v("暂无关键词数据")])]):t._e()],2)])])])]),a("div",{staticClass:"floating-action-btn",on:{click:function(e){t.showStudentSearch=!0}}},[a("i",{staticClass:"el-icon-search"})])]),a("el-dialog",{staticClass:"student-search-dialog",attrs:{title:"学生学情画像查询",visible:t.showStudentSearch,width:"80%","destroy-on-close":!0,"append-to-body":!0},on:{"update:visible":function(e){t.showStudentSearch=e}}},[a("div",{staticClass:"search-form"},[a("el-input",{attrs:{placeholder:"请输入学生用户名","prefix-icon":"el-icon-search",clearable:""},model:{value:t.profileForm.userName,callback:function(e){t.$set(t.profileForm,"userName",e)},expression:"profileForm.userName"}},[a("el-button",{attrs:{slot:"append",type:"primary",loading:t.searchingProfile},on:{click:t.searchStudentProfile},slot:"append"},[t._v("查询")])],1)],1),t.studentProfile.userName?a("div",{staticClass:"student-profile"},[a("div",{staticClass:"profile-header"},[a("div",{staticClass:"profile-avatar"},[t._v(" "+t._s(t.studentProfile.userName.charAt(0))+" ")]),a("div",{staticClass:"profile-title"},[a("h2",[t._v(t._s(t.studentProfile.userName)+" 的学习画像")]),a("div",{staticClass:"profile-status",class:t.getStatusClass(t.studentProfile.learningStatus)},[t._v(" "+t._s(t.studentProfile.learningStatus)+" ")])])]),a("div",{staticClass:"profile-content"},[a("div",{staticClass:"profile-stats"},[a("div",{staticClass:"profile-stat-card"},[a("div",{staticClass:"stat-icon"},[a("i",{staticClass:"el-icon-chat-dot-round"})]),a("div",{staticClass:"stat-details"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.studentProfile.totalQuestions))]),a("div",{staticClass:"stat-label"},[t._v("总提问数")])])]),a("div",{staticClass:"profile-stat-card"},[a("div",{staticClass:"stat-icon"},[a("i",{staticClass:"el-icon-collection-tag"})]),a("div",{staticClass:"stat-details"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.studentProfile.mainSubject))]),a("div",{staticClass:"stat-label"},[t._v("主要学科")])])]),a("div",{staticClass:"profile-stat-card"},[a("div",{staticClass:"stat-icon"},[a("i",{staticClass:"el-icon-date"})]),a("div",{staticClass:"stat-details"},[a("div",{staticClass:"stat-value"},[t._v(t._s(t.studentProfile.lastActiveTime))]),a("div",{staticClass:"stat-label"},[t._v("最后活跃")])])])]),a("div",{staticClass:"profile-charts"},[a("div",{staticClass:"profile-chart-container"},[a("h3",[t._v("问题复杂度分布")]),a("div",{ref:"studentComplexityChart",staticClass:"profile-chart"})]),a("div",{staticClass:"profile-chart-container"},[a("h3",[t._v("学习进度分析")]),a("div",{staticClass:"learning-progress"},t._l(t.learningProgressItems,(function(e,i){return a("div",{key:i,staticClass:"progress-item"},[a("div",{staticClass:"progress-label"},[a("span",[t._v(t._s(e.label))]),a("span",[t._v(t._s(e.value)+"%")])]),a("el-progress",{attrs:{percentage:e.value,color:e.color,"stroke-width":8}})],1)})),0)])]),a("div",{staticClass:"profile-recommendations"},[a("h3",[t._v("学习建议")]),a("div",{staticClass:"recommendation-list"},t._l(t.recommendationItems,(function(e,i){return a("div",{key:i,staticClass:"recommendation-item"},[a("div",{staticClass:"recommendation-icon"},[a("i",{class:e.icon})]),a("div",{staticClass:"recommendation-content"},[a("div",{staticClass:"recommendation-title"},[t._v(t._s(e.title))]),a("div",{staticClass:"recommendation-desc"},[t._v(t._s(e.description))])])])})),0)])])]):t.profileSearched?a("div",{staticClass:"no-profile-data"},[a("i",{staticClass:"el-icon-warning-outline"}),a("h3",[t._v("未找到学生数据")]),a("p",[t._v("请检查用户名是否正确，或尝试搜索其他学生")])]):t._e()])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated-bg"},[a("div",{staticClass:"wave wave-1"}),a("div",{staticClass:"wave wave-2"}),a("div",{staticClass:"wave wave-3"}),a("div",{staticClass:"geometric-shape shape-1"}),a("div",{staticClass:"geometric-shape shape-2"}),a("div",{staticClass:"geometric-shape shape-3"}),a("div",{staticClass:"geometric-shape shape-4"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-area"},[a("div",{staticClass:"logo-icon"},[a("i",{staticClass:"el-icon-s-platform"})]),a("div",{staticClass:"logo-text"},[a("h1",[t._v("问答情况 "),a("span",[t._v("分析平台")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("i",{staticClass:"el-icon-pie-chart"}),t._v(" 问题类型分布")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("i",{staticClass:"el-icon-data-analysis"}),t._v(" 问题复杂度分布")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-header"},[a("h3",[a("i",{staticClass:"el-icon-trend-charts"}),t._v(" 提问趋势分析")]),a("div",{staticClass:"panel-actions"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" 学科分布")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("i",{staticClass:"el-icon-user"}),t._v(" 活跃学生")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" 热门关键词")])}],n=(a("99af"),a("d81d"),a("14d9"),a("fb6a"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("ddb0"),a("313e")),r=a("ec1b"),o=a.n(r),l=a("b775");function c(t){return Object(l["a"])({url:"/analyse/dashboard/statistics",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function d(t){return Object(l["a"])({url:"/analyse/dashboard/questionTypes",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function u(t){return Object(l["a"])({url:"/analyse/dashboard/subjects",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function h(t){return Object(l["a"])({url:"/analyse/dashboard/complexity",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function m(t){return Object(l["a"])({url:"/analyse/dashboard/dailyTrend",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function f(t){return Object(l["a"])({url:"/analyse/dashboard/hotKeywords",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function p(t){return Object(l["a"])({url:"/analyse/dashboard/activeStudents",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}function v(t){return Object(l["a"])({url:"/analyse/dashboard/studentProfile",method:"get",params:{userName:t},headers:{Authorization:localStorage.getItem("token")||""}})}function g(t){return Object(l["a"])({url:"/analyse/processHistoryData",method:"post",headers:{Authorization:localStorage.getItem("token")||""},data:{classId:t}})}var y={name:"PremiumDashboard",components:{CountTo:o.a},data:function(){return{statistics:{totalQuestions:0,totalStudents:0,totalSubjects:0,todayQuestions:0},questionTypes:[],subjects:[],complexityData:{simple:0,medium:0,complex:0},dailyTrend:[],hotKeywords:[],activeStudents:[],profileForm:{userName:""},studentProfile:{},profileSearched:!1,charts:{questionTypeChart:null,subjectChart:null,complexityChart:null,dailyTrendChart:null,studentComplexityChart:null,sparklines:[]},processingHistory:!1,isLoading:!1,isFullscreenLoading:!1,showStudentSearch:!1,searchingProfile:!1,trendTimeRange:"14",chartColors:["#4361ee","#3a86ff","#4cc9f0","#4895ef","#560bad","#7209b7","#b5179e","#f72585","#f94144","#f3722c","#f8961e","#f9c74f","#90be6d","#43aa8b","#4d908e","#577590"],learningProgressItems:[],recommendationItems:[],hoveredStatIndex:null,trendData:[[10,15,20,25,23,30,35],[50,45,60,70,65,75,80],[12,12,12,12,13,13,12],[5,10,8,15,20,25,30]]}},computed:{statsData:function(){return[{label:"总提问数",value:this.statistics.totalQuestions||0,icon:"el-icon-chat-dot-round",trend:12,trendData:this.trendData[0]},{label:"参与学生",value:this.statistics.totalStudents||0,icon:"el-icon-user",trend:8,trendData:this.trendData[1]},{label:"学科分类",value:this.statistics.totalSubjects||0,icon:"el-icon-collection-tag",trend:0,trendData:this.trendData[2]},{label:"今日提问",value:this.statistics.todayQuestions||0,icon:"el-icon-s-opportunity",trend:-5,trendData:this.trendData[3]}]}},created:function(){this.getDashboardData()},mounted:function(){var t=this;window.addEventListener("resize",this.resizeCharts),this.initAnimations(),this.$nextTick((function(){t.initSparklines()}))},beforeDestroy:function(){var t=this;window.removeEventListener("resize",this.resizeCharts),Object.keys(this.charts).forEach((function(e){t.charts[e]&&(Array.isArray(t.charts[e])?t.charts[e].forEach((function(t){t&&t.dispose()})):t.charts[e].dispose())}))},methods:{initAnimations:function(){this.$refs.countTo&&Array.isArray(this.$refs.countTo)&&this.$refs.countTo.forEach((function(t){t.start()}))},initSparklines:function(){var t=this;this.charts.sparklines=[],this.statsData.forEach((function(e,a){var i=document.getElementById("sparkline-".concat(a));if(i){var s=n["init"](i),r={grid:{left:0,right:0,top:0,bottom:0},xAxis:{type:"category",show:!1,boundaryGap:!1},yAxis:{type:"value",show:!1,min:"dataMin"},series:[{type:"line",data:e.trendData,showSymbol:!1,symbol:"circle",symbolSize:2,lineStyle:{width:2,color:t.getSparklineColor(a,e.trend)},areaStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:t.getSparklineColor(a,e.trend,.2)},{offset:1,color:t.getSparklineColor(a,e.trend,.02)}])},smooth:!0}]};s.setOption(r),t.charts.sparklines.push(s)}}))},getSparklineColor:function(t,e){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(a=e>0?"#4caf50":e<0?"#f44336":"#2196f3",1===i)return a;var s=parseInt(a.slice(1,3),16),n=parseInt(a.slice(3,5),16),r=parseInt(a.slice(5,7),16);return"rgba(".concat(s,", ").concat(n,", ").concat(r,", ").concat(i,")")},getAvatarGradient:function(t){var e=["linear-gradient(135deg, #4361ee, #3a86ff)","linear-gradient(135deg, #7209b7, #b5179e)","linear-gradient(135deg, #f94144, #f3722c)","linear-gradient(135deg, #43aa8b, #90be6d)","linear-gradient(135deg, #f8961e, #f9c74f)"];return e[t%e.length]},getKeywordBackground:function(t,e){var a=[["#4361ee","#3a86ff"],["#7209b7","#b5179e"],["#f94144","#f3722c"],["#43aa8b","#90be6d"],["#f8961e","#f9c74f"]],i=a[t%a.length],s=.2*Math.min(e/100,1)+.1;return"linear-gradient(135deg, ".concat(i[0]).concat(Math.round(255*s).toString(16),", ").concat(i[1]).concat(Math.round(255*s).toString(16),")")},onStatHover:function(t){this.hoveredStatIndex=t},onStatLeave:function(){this.hoveredStatIndex=null},onKeywordHover:function(t){t.currentTarget.style.transform="scale(1.1)",t.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)",t.currentTarget.style.zIndex="10"},onKeywordLeave:function(t){t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="",t.currentTarget.style.zIndex=""},handleCommand:function(t){"exportData"===t?this.$message({message:"数据导出功能即将上线",type:"info"}):"settings"===t?this.$message({message:"设置功能即将上线",type:"info"}):"help"===t&&this.$message({message:"帮助文档即将上线",type:"info"})},showStudentProfile:function(t){var e=this;this.showStudentSearch=!0,this.profileForm.userName=t,this.$nextTick((function(){e.searchStudentProfile()}))},getStatusClass:function(t){return"优秀"===t||"积极学习中"===t?"status-excellent":"良好"===t?"status-good":"需要关注"===t?"status-warning":"status-normal"},getDashboardData:function(){var t=this;this.isLoading=!0,Promise.all([this.getStatistics(),this.getQuestionTypes(),this.getSubjects(),this.getComplexityDistribution(),this.getDailyTrend(),this.getHotKeywords(),this.getActiveStudents()]).then((function(){t.isLoading=!1,t.initAnimations(),t.$nextTick((function(){t.initSparklines()}))})).catch((function(){t.isLoading=!1,t.$message.error("获取数据失败，请稍后重试")}))},getStatistics:function(){var t=this;return c().then((function(e){200===e.code&&(t.statistics=e.data||{totalQuestions:0,totalStudents:0,totalSubjects:0,todayQuestions:0})})).catch((function(){t.statistics={totalQuestions:0,totalStudents:0,totalSubjects:0,todayQuestions:0}}))},refreshData:function(){this.getDashboardData(),this.$notify({title:"刷新成功",message:"数据已更新至最新状态",type:"success",position:"bottom-right"})},processHistoryData:function(){var t=this;this.$confirm("这将处理所有历史问题数据，可能需要一些时间。是否继续?","确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.processingHistory=!0,g().then((function(e){200===e.code?(t.$notify({title:"处理成功",message:e.msg||"历史数据处理成功",type:"success",position:"bottom-right"}),t.getDashboardData()):t.$message.error(e.msg||"历史数据处理失败")})).catch((function(e){console.error("处理历史数据出错",e),t.$message.error("处理历史数据出错")})).finally((function(){t.processingHistory=!1}))})).catch((function(){t.$message.info("已取消操作")}))},getQuestionTypes:function(){var t=this;return d().then((function(e){200===e.code&&(t.questionTypes=e.data||[],t.$nextTick((function(){t.initQuestionTypeChart()})))})).catch((function(){t.questionTypes=[],t.$nextTick((function(){t.initQuestionTypeChart()}))}))},getSubjects:function(){var t=this;return u().then((function(e){200===e.code&&(t.subjects=e.data||[],t.$nextTick((function(){t.initSubjectChart()})))})).catch((function(){t.subjects=[],t.$nextTick((function(){t.initSubjectChart()}))}))},getComplexityDistribution:function(){var t=this;return h().then((function(e){200===e.code&&(t.complexityData=e.data||{simple:0,medium:0,complex:0},t.$nextTick((function(){t.initComplexityChart()})))})).catch((function(){t.complexityData={simple:0,medium:0,complex:0},t.$nextTick((function(){t.initComplexityChart()}))}))},getDailyTrend:function(){var t=this;return m().then((function(e){200===e.code&&(t.dailyTrend=e.data||[],t.$nextTick((function(){t.initDailyTrendChart()})))})).catch((function(){t.dailyTrend=[],t.$nextTick((function(){t.initDailyTrendChart()}))}))},getHotKeywords:function(){var t=this;return f().then((function(e){200===e.code&&(t.hotKeywords=e.data||[])})).catch((function(){t.hotKeywords=[]}))},getActiveStudents:function(){var t=this;return p().then((function(e){200===e.code&&(t.activeStudents=e.data||[])})).catch((function(){t.activeStudents=[]}))},searchStudentProfile:function(){var t=this;this.profileForm.userName?(this.searchingProfile=!0,v(this.profileForm.userName).then((function(e){t.profileSearched=!0,200===e.code&&e.data&&e.data.userName?(t.studentProfile=e.data,e.data.learningProgressItems&&e.data.learningProgressItems.length>0?t.learningProgressItems=e.data.learningProgressItems.map((function(e){return{label:e.dimensionName,value:e.score,color:e.color||t.getLearningScoreColor(e.score)}})):t.learningProgressItems=[{label:"基础知识",value:85,color:"#4361ee"},{label:"实践能力",value:72,color:"#f72585"},{label:"创新思维",value:63,color:"#f8961e"},{label:"团队协作",value:90,color:"#43aa8b"}],e.data.recommendationItems&&e.data.recommendationItems.length>0?t.recommendationItems=e.data.recommendationItems:t.recommendationItems=[{icon:"el-icon-reading",title:"加强基础知识学习",description:"建议多阅读相关教材，巩固基础知识点。"},{icon:"el-icon-cpu",title:"增加实践项目经验",description:"参与更多实际项目，提升编程实践能力。"},{icon:"el-icon-data-line",title:"关注学习效率",description:"建议制定合理的学习计划，提高学习效率。"}],t.$nextTick((function(){t.initStudentComplexityChart()}))):(t.studentProfile={},t.learningProgressItems=[],t.recommendationItems=[])})).catch((function(){t.profileSearched=!0,t.studentProfile={},t.learningProgressItems=[],t.recommendationItems=[]})).finally((function(){t.searchingProfile=!1}))):this.$message.warning("请输入用户名")},initQuestionTypeChart:function(){var t=this;this.charts.questionTypeChart&&this.charts.questionTypeChart.dispose(),this.charts.questionTypeChart=n["init"](this.$refs.questionTypeChart);var e=this.questionTypes.length>0?this.questionTypes:[{name:"概念解释",value:0},{name:"操作指导",value:0},{name:"原理分析",value:0},{name:"比较分析",value:0},{name:"一般提问",value:0}],a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[8,12],textStyle:{color:"#333"}},legend:{orient:"vertical",right:10,top:"center",itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#666"},data:e.map((function(t){return t.name}))},series:[{name:"问题类型",type:"pie",radius:["45%","75%"],center:["40%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.2)"}},labelLine:{show:!1},data:e.map((function(e,a){return{value:e.value,name:e.name,itemStyle:{color:t.chartColors[a%t.chartColors.length]}}})),animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]};this.charts.questionTypeChart.setOption(a)},initSubjectChart:function(){var t=this;this.charts.subjectChart&&this.charts.subjectChart.dispose(),this.charts.subjectChart=n["init"](this.$refs.subjectChart);var e=this.subjects.length>0?this.subjects:[{name:"编程语言",value:0},{name:"数据结构与算法",value:0},{name:"数据库",value:0},{name:"Web开发",value:0},{name:"计算机网络",value:0}],a={tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0,0,0,0.05)"}},backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[8,12],textStyle:{color:"#333"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed",color:"#e6e6e6"}},axisLabel:{color:"#666"}},yAxis:{type:"category",data:e.map((function(t){return t.name})),axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#666"}},series:[{name:"提问数量",type:"bar",data:e.map((function(e,a){return{value:e.value,itemStyle:{color:new n["graphic"].LinearGradient(0,0,1,0,[{offset:0,color:t.chartColors[a%t.chartColors.length]},{offset:1,color:t.lightenColor(t.chartColors[a%t.chartColors.length],30)}]),borderRadius:[0,4,4,0]}}})),showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.1)",borderRadius:[0,4,4,0]},animationDelay:function(t){return 100*t}}],animationEasing:"elasticOut"};this.charts.subjectChart.setOption(a)},initComplexityChart:function(){this.charts.complexityChart&&this.charts.complexityChart.dispose(),this.charts.complexityChart=n["init"](this.$refs.complexityChart);var t={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[8,12],textStyle:{color:"#333"}},legend:{bottom:"5%",left:"center",icon:"circle",itemWidth:10,itemHeight:10,textStyle:{color:"#666"},data:["简单","中等","复杂"]},series:[{name:"问题复杂度",type:"pie",radius:"65%",center:["50%","45%"],data:[{value:this.complexityData.simple||0,name:"简单",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#67C23A"},{offset:1,color:"#95EB85"}])}},{value:this.complexityData.medium||0,name:"中等",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#E6A23C"},{offset:1,color:"#F8D878"}])}},{value:this.complexityData.complex||0,name:"复杂",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#F56C6C"},{offset:1,color:"#FF9B9B"}])}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.2)"}},label:{formatter:"{b}: {d}%",fontSize:14,color:"#666"},labelLine:{smooth:.2,lineStyle:{color:"rgba(0,0,0,0.2)"}},itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]};this.charts.complexityChart.setOption(t)},initDailyTrendChart:function(){this.charts.dailyTrendChart&&this.charts.dailyTrendChart.dispose(),this.charts.dailyTrendChart=n["init"](this.$refs.dailyTrendChart);var t=this.dailyTrend.map((function(t){return t.date})),e=this.dailyTrend.map((function(t){return t.count}));if(0===t.length)for(var a=new Date,i=6;i>=0;i--){var s=new Date(a);s.setDate(s.getDate()-i);var r=s.getMonth()+1,o=s.getDate();t.push("".concat(r<10?"0"+r:r,"-").concat(o<10?"0"+o:o)),e.push(0)}var l=parseInt(this.trendTimeRange);t.length>l&&(t=t.slice(-l),e=e.slice(-l));var c={tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"rgba(84, 112, 198, 0.5)",width:1,type:"solid"}},backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[8,12],textStyle:{color:"#333"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#666",formatter:function(t){return t.split("-")[1]}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed",color:"#e6e6e6"}},axisLabel:{color:"#666"}},series:[{name:"提问数量",type:"line",smooth:!0,symbol:"circle",symbolSize:8,lineStyle:{width:3,color:"#4361ee"},itemStyle:{color:"#4361ee",borderWidth:2,borderColor:"#fff"},areaStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(67, 97, 238, 0.5)"},{offset:1,color:"rgba(67, 97, 238, 0.05)"}])},data:e,animationDuration:2e3,animationEasing:"cubicOut"}]};this.charts.dailyTrendChart.setOption(c)},initStudentComplexityChart:function(){this.charts.studentComplexityChart&&this.charts.studentComplexityChart.dispose(),this.charts.studentComplexityChart=n["init"](this.$refs.studentComplexityChart);var t=this.studentProfile.complexityDistribution||{simple:0,medium:0,complex:0},e={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#e6e6e6",borderWidth:1,padding:[8,12],textStyle:{color:"#333"}},legend:{bottom:"0%",left:"center",icon:"circle",itemWidth:10,itemHeight:10,textStyle:{color:"#666"},data:["简单","中等","复杂"]},series:[{name:"问题复杂度",type:"pie",radius:["30%","70%"],center:["50%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:t.simple||0,name:"简单",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#67C23A"},{offset:1,color:"#95EB85"}])}},{value:t.medium||0,name:"中等",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#E6A23C"},{offset:1,color:"#F8D878"}])}},{value:t.complex||0,name:"复杂",itemStyle:{color:new n["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#F56C6C"},{offset:1,color:"#FF9B9B"}])}}],animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]};this.charts.studentComplexityChart.setOption(e)},resizeCharts:function(){var t=this;Object.keys(this.charts).forEach((function(e){t.charts[e]&&(Array.isArray(t.charts[e])?t.charts[e].forEach((function(t){t&&t.resize()})):t.charts[e].resize())}))},getTagSize:function(t){var e=14,a=24;return e+Math.min(t/100*(a-e),a-e)},getLearningScoreColor:function(t){return t>=80?"#67C23A":t>=60?"#E6A23C":"#F56C6C"},lightenColor:function(t,e){var a=parseInt(t.replace("#",""),16),i=Math.round(2.55*e),s=(a>>16)+i,n=(a>>8&255)+i,r=(255&a)+i;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(n<255?n<1?0:n:255)+(r<255?r<1?0:r:255)).toString(16).slice(1)}}},C=y,b=(a("6e86"),a("2877")),S=Object(b["a"])(C,i,s,!1,null,"15f7d066",null);e["default"]=S.exports},5404:function(t,e,a){},"6e86":function(t,e,a){"use strict";a("5404")},ec1b:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(i){if(a[i])return a[i].exports;var s=a[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var i=a(4)(a(1),a(5),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,i.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,i.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,i.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,i.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,i.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],i=e.length>1?this.decimal+e[1]:"",s=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;s.test(a);)a=a.replace(s,"$1"+this.separator+"$2");return this.prefix+a+i+this.suffix}},destroyed:function(){(0,i.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0),s=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=s.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",s.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0,s="webkit moz ms o".split(" "),n=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=n=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=n=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var o=void 0,l=0;l<s.length&&(!n||!r);l++)o=s[l],e.requestAnimationFrame=n=n||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];n&&r||(e.requestAnimationFrame=n=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-i)),s=window.setTimeout((function(){t(e+a)}),a);return i=e+a,s},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=n,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,a,i){var s,n=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,n=t.default);var o="function"==typeof n?n.options:n;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var l=Object.create(o.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),o.computed=l}return{esModule:s,exports:n,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))}}]);